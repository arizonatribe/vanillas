

<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>JSDoc: mapSpec.js</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
    <link type="text/css" rel="stylesheet" href="styles/app.min.css">
</head>

<body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
        <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="navbar-brand">
                    
                    
                        <h1 class="navbar-item">Documentation</h1>
                    
                    <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                
            </nav>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column is-3" id="sidebarNav">
                <div class="sidebar">
                    <nav>
                        <h2><a href="index.html">Home</a></h2><div class="category"><h3>Global</h3><ul><li><a href="global.html#any">any</a></li><li><a href="global.html#append">append</a></li><li><a href="global.html#assign">assign</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#combine">combine</a></li><li><a href="global.html#compose">compose</a></li><li><a href="global.html#concat">concat</a></li><li><a href="global.html#cond">cond</a></li><li><a href="global.html#contains">contains</a></li><li><a href="global.html#converge">converge</a></li><li><a href="global.html#convergeZip">convergeZip</a></li><li><a href="global.html#curry">curry</a></li><li><a href="global.html#difference">difference</a></li><li><a href="global.html#each">each</a></li><li><a href="global.html#entries">entries</a></li><li><a href="global.html#filter">filter</a></li><li><a href="global.html#filterObject">filterObject</a></li><li><a href="global.html#filterString">filterString</a></li><li><a href="global.html#find">find</a></li><li><a href="global.html#findIndex">findIndex</a></li><li><a href="global.html#first">first</a></li><li><a href="global.html#flatten">flatten</a></li><li><a href="global.html#flipKeyValues">flipKeyValues</a></li><li><a href="global.html#forIn">forIn</a></li><li><a href="global.html#getType">getType</a></li><li><a href="global.html#has">has</a></li><li><a href="global.html#identity">identity</a></li><li><a href="global.html#intersection">intersection</a></li><li><a href="global.html#is">is</a></li><li><a href="global.html#isArrayish">isArrayish</a></li><li><a href="global.html#isBlankString">isBlankString</a></li><li><a href="global.html#isEmpty">isEmpty</a></li><li><a href="global.html#isEqual">isEqual</a></li><li><a href="global.html#isInteger">isInteger</a></li><li><a href="global.html#isMap">isMap</a></li><li><a href="global.html#isNil">isNil</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isObjectish">isObjectish</a></li><li><a href="global.html#isPrimitive">isPrimitive</a></li><li><a href="global.html#isSameType">isSameType</a></li><li><a href="global.html#isSet">isSet</a></li><li><a href="global.html#isStrictEqual">isStrictEqual</a></li><li><a href="global.html#isUndefined">isUndefined</a></li><li><a href="global.html#last">last</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#mapObject">mapObject</a></li><li><a href="global.html#mapSpec">mapSpec</a></li><li><a href="global.html#mapString">mapString</a></li><li><a href="global.html#memoize">memoize</a></li><li><a href="global.html#merge">merge</a></li><li><a href="global.html#omit">omit</a></li><li><a href="global.html#pick">pick</a></li><li><a href="global.html#pipe">pipe</a></li><li><a href="global.html#prepend">prepend</a></li><li><a href="global.html#promiseAll">promiseAll</a></li><li><a href="global.html#promiseChain">promiseChain</a></li><li><a href="global.html#promiseCompose">promiseCompose</a></li><li><a href="global.html#propAt">propAt</a></li><li><a href="global.html#propEquals">propEquals</a></li><li><a href="global.html#propIs">propIs</a></li><li><a href="global.html#propOr">propOr</a></li><li><a href="global.html#reduce">reduce</a></li><li><a href="global.html#renameKeys">renameKeys</a></li><li><a href="global.html#shim">shim</a></li><li><a href="global.html#size">size</a></li><li><a href="global.html#toCamelCase">toCamelCase</a></li><li><a href="global.html#toInteger">toInteger</a></li><li><a href="global.html#toKebabCase">toKebabCase</a></li><li><a href="global.html#toLowerCase">toLowerCase</a></li><li><a href="global.html#toTitleCase">toTitleCase</a></li><li><a href="global.html#toUpperCase">toUpperCase</a></li><li><a href="global.html#uniq">uniq</a></li><li><a href="global.html#uniqBy">uniqBy</a></li><li><a href="global.html#unthunk">unthunk</a></li><li><a href="global.html#validate">validate</a></li><li><a href="global.html#values">values</a></li></ul></div>
                    </nav>
                </div>
            </div>
            <div class="column is-9-desktop">
                <div class="content" id="main-content-wrapper">
                    <header class="page-title">
                        <p>Source</p>
                        <h1>mapSpec.js</h1>
                    </header>
                    
                    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import has from './has'
import forIn from './forIn'
import isObject from './isObject'

/**
 * Applies one or more mapping functions to the value in a given Object.
 * But rather than applying the same mapping function to every value in an
 * Object, instead you use a "spec" object to link the appropriate mapping
 * function to the key/val in the input Object.
 *
 * This is similar to Ramda's `evolve()` however you can also set values
 * in your spec that are _not_ functions
 * (which will just override whatever matching key there might be on the input object).
 * Addtionally, it supplies the key and the object as the 2nd and third
 * params to your spec's transformation function, so that you can create props
 * based on the entire input Object (with Ramda you'll need to also use
 * `applySpec()` and in a separate operation to derived these kinds of values).
 *
 * As an example, If you want a mapping function to be applied to a prop called "name",
 * then you would first pass in a spec object with a prop on it called "name"
 * and the value would be the mapping function.
 * Then the actual input object (with the desciption field) will have the matching mapping
 * function from your spec applied to it directly.
 *
 * @example
 *   mapSpec({
 *     age: Number,
 *     isAlive: Boolean,
 *     name: str => `${str.charAt(0).toUpperCase()}${str.slice(1)}`
 *   }, {
 *     age: '20',
 *     isAlive: 1,
 *     name: 'john'
 *   })
 *
 * @function
 * @param {Object} spec An Object whose keys should correspond to keys in the
 * input Object and whose values are mapping functions that will receive the
 * matching input Object's prop as input
 * @param {Object} inputObj The actual input to map over and transform
 * @returns {Object} A new Object with all the mapping functions from the spec
 * Object applied to the corresponding values in the input Object (if they exist)
 */
function mapSpec(spec, obj) {
  const newObj = {}
  forIn((key, val, ob) => {
    if (typeof spec[key] === 'function') {
      newObj[key] = spec[key](val, key, ob)
    } else if (isObject(spec[key])) {
      newObj[key] = mapSpec(spec[key], val)
    } else {
      newObj[key] = val
    }
  }, obj)
  forIn((key, val) => {
    if (typeof val !== 'function') {
      newObj[key] = val
    } else if (!has(key, newObj)) {
      newObj[key] = val(undefined, key, newObj)
    }
  }, spec)
  return newObj
}

export default mapSpec
</code></pre>
        </article>
    </section>




                </div>
            </div>
        </div>
    </div>

<footer class="footer">
    <div class="content has-text-centered">
        <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Thu Sep 05 2019 19:32:35 GMT+0000 (UTC)</p>
        <p class="sidebar-created-by">
            <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
            <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
    </div>
</footer>

<script src="scripts/app.min.js"></script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
